import Head from 'next/head'
import { Header } from '../components/Header'
import Nosotros from '../components/cards/Nosotros'
import { Servicios } from '../components/Servicios'
import Portfolio from '../components/Portfolio'
import { Layout } from '../components/Layout'
import ContactForm from '../components/ContactForm.js'
import { Noticias } from '../components/Noticias'
import phone from '../public/compucolores1.jpg'
import { ContactButton } from '../components/ContactButton'
import { withTranslation } from 'next-i18next'
import { serverSideTranslations } from 'next-i18next/serverSideTranslations'
import { useRouter } from 'next/router'
import Link from 'next/link'

function Home({ t }) {
  const router = useRouter()

  return (
    <>
      <Head>
        <title>Teo-Coop</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <div>
          <Link
            href='/'
            locale={router.locale === 'en' ? 'de' : 'en'}
          >
            <button>
              {t('change-locale')}
            </button>
          </Link>
          <Link href='/second-page'>
            <button
              type='button'
            >
              {t('to-second-page')}
            </button>
          </Link>
        </div>
      <div style={{ background: 'black' }}>
        <Layout>
          <Header />
          <div className='backgroundAmplio'>
            <Portfolio />
            <Nosotros />
            <Servicios />
            <Noticias />
          </div>
          <div style={{ display: 'flex', flexDirection: 'column', padding: '2%', backgroundImage: `url(${phone.src})`, border: '10px, solid white', backgroundAttachment: 'scroll', backgroundPosition: '0', backgroundSize: 'cover', }}>
            <ContactForm />
          </div>
          <ContactButton />
        </Layout>
      </div>
    </>
  )
}


export const getStaticProps = async ({ locale }) => ({
  props: {
    ...await serverSideTranslations(locale, ['common', 'header']),
  }
})

export default withTranslation('common')(Home)
